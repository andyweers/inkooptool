{"ast":null,"code":"var _jsxFileName = \"/Users/andy/lion-gris-order-tool/client/src/pages/Orders.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => {\n  if (amount === null || amount === undefined) {\n    return '€ 0,00';\n  }\n  return new Intl.NumberFormat('nl-NL', {\n    style: 'currency',\n    currency: 'EUR',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }).format(amount);\n};\nconst Orders = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n  const fileInputRef = React.useRef(null);\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/');\n  };\n  const handleExport = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/orders/export', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        responseType: 'blob' // Belangrijk voor het downloaden van bestanden\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      const contentDisposition = response.headers['content-disposition'];\n      let fileName = 'orders-export.csv';\n      if (contentDisposition) {\n        const fileNameMatch = contentDisposition.match(/filename=\"?(.+)\"?/);\n        if (fileNameMatch.length === 2) fileName = fileNameMatch[1];\n      }\n      link.setAttribute('download', fileName);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (err) {\n      console.error('Export mislukt', err);\n      setError('Exporteren van de data is mislukt.');\n    }\n  };\n  const handleImportClick = () => {\n    if (window.confirm('WAARSCHUWING 1: Weet je zeker dat je wilt importeren? Dit overschrijft ALLE huidige bestellingen.')) {\n      if (window.confirm('WAARSCHUWING 2: Deze actie kan NIET ongedaan worden gemaakt. Alle data wordt permanent vervangen.')) {\n        if (window.confirm('DEFINITIEVE WAARSCHUWING 3: Weet je absoluut zeker dat je door wilt gaan?')) {\n          var _fileInputRef$current;\n          (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n        }\n      }\n    }\n  };\n  const handleFileImport = async event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.post('/api/orders/import', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(response.data.message);\n      window.location.reload(); // Herlaad de pagina om de nieuwe data te zien\n    } catch (err) {\n      var _err$response;\n      const errorData = (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data;\n      let errorMessage = 'Importeren mislukt. ';\n      if (errorData !== null && errorData !== void 0 && errorData.message) {\n        errorMessage += errorData.message;\n      }\n      if (errorData !== null && errorData !== void 0 && errorData.errors) {\n        errorMessage += '\\\\nFouten:\\\\n' + errorData.errors.map(e => `Rij ${e.row}: ${e.error}`).join('\\\\n');\n      }\n      alert(errorMessage);\n    } finally {\n      // Reset de file input zodat dezelfde file opnieuw gekozen kan worden\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\";\n      }\n    }\n  };\n  useEffect(() => {\n    const fetchOrders = async () => {\n      try {\n        setIsLoading(true);\n        const token = localStorage.getItem('token');\n        if (!token) {\n          setError('Geen toegangstoken gevonden. Log opnieuw in.');\n          setIsLoading(false);\n          return;\n        }\n        const response = await axios.get('/api/orders', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setOrders(response.data);\n      } catch (err) {\n        var _err$response2, _err$response2$data;\n        setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Kon orders niet ophalen');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchOrders();\n  }, []);\n  const calculateOrderStatus = order => {\n    // Helper function to get the latest date from a list of dates\n    const getLatestDate = dates => {\n      const validDates = dates.filter(date => date && date !== '');\n      if (validDates.length === 0) return null;\n      return new Date(Math.max(...validDates.map(d => new Date(d).getTime())));\n    };\n\n    // Helper function to check if a date exists\n    const hasDate = date => date && date !== '';\n\n    // Define status priorities and their conditions\n    const statusDefinitions = [\n    // Return statuses (highest priority)\n    {\n      condition: () => hasDate(order.date_return_processed_admin),\n      status: 'Retour volledig afgehandeld!',\n      color: '#28a745' // Green\n    }, {\n      condition: () => hasDate(order.date_refunded),\n      status: 'Geld retour ontvangen',\n      color: '#fd7e14' // Orange\n    }, {\n      condition: () => hasDate(order.date_is_returned),\n      status: 'Geretourneerd naar leverancier',\n      color: '#fd7e14' // Orange\n    }, {\n      condition: () => order.is_return && !hasDate(order.date_is_returned),\n      status: 'Gaat retour',\n      color: '#6c757d' // Gray\n    },\n    // Normal flow statuses\n    {\n      condition: () => hasDate(order.date_booked_accounting) && hasDate(order.date_received),\n      status: 'Volledig afgehandeld!',\n      color: '#28a745' // Green\n    }, {\n      condition: () => hasDate(order.date_booked_accounting) && !hasDate(order.date_received),\n      status: 'Volledig afgehandeld!',\n      color: '#ffc107' // Yellow\n    }, {\n      condition: () => hasDate(order.date_received),\n      status: 'Bestelling ontvangen',\n      color: '#ffc107' // Yellow\n    }, {\n      condition: () => hasDate(order.date_shipped) && hasDate(order.date_invoice_received),\n      status: 'Verzonden naar ons en factuur ontvangen',\n      color: '#ffc107' // Yellow\n    }, {\n      condition: () => hasDate(order.date_shipped),\n      status: 'Verzonden naar ons',\n      color: '#ffc107' // Yellow\n    }, {\n      condition: () => hasDate(order.date_invoice_received),\n      status: 'Besteld, betaald en factuur ontvangen',\n      color: '#ffc107' // Yellow\n    }, {\n      condition: () => hasDate(order.date_payment_completed),\n      status: 'Besteld én betaald',\n      color: '#ffc107' // Yellow\n    }, {\n      condition: () => hasDate(order.date_order_placed),\n      status: 'Besteld maar niet betaald',\n      color: '#dc3545' // Red\n    }, {\n      condition: () => hasDate(order.date_quote_received),\n      status: 'Offerte ontvangen',\n      color: '#28a745' // Green\n    }, {\n      condition: () => hasDate(order.date_quote_requested),\n      status: 'Offerte aangevraagd',\n      color: '#ffc107' // Yellow\n    }];\n\n    // Find the first matching status\n    for (const statusDef of statusDefinitions) {\n      if (statusDef.condition()) {\n        return {\n          text: statusDef.status,\n          color: statusDef.color\n        };\n      }\n    }\n\n    // Default status\n    return {\n      text: 'Nieuwe bestelling',\n      color: '#6c757d' // Gray\n    };\n  };\n  const getStatusStyle = order => {\n    const status = calculateOrderStatus(order);\n    const baseStyle = {\n      padding: '3px 8px',\n      borderRadius: '8px',\n      fontSize: '11px',\n      fontWeight: '500',\n      textAlign: 'center',\n      color: 'white',\n      whiteSpace: 'nowrap'\n    };\n    return {\n      ...baseStyle,\n      backgroundColor: status.color,\n      color: status.color === '#ffc107' ? '#333' : 'white'\n    };\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        backgroundColor: '#f8f9fa',\n        padding: '10px',\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          borderRadius: '8px',\n          boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n          margin: '0 auto',\n          padding: '20px',\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '16px',\n            color: '#6c757d'\n          },\n          children: \"\\uD83D\\uDD04 Orders laden...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      backgroundColor: '#f8f9fa',\n      padding: '10px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n        margin: '0 auto',\n        maxWidth: '100%',\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          flexWrap: 'wrap',\n          gap: '15px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/logo.png\",\n            alt: \"Lion Gris Logo\",\n            style: {\n              width: '50px',\n              height: 'auto'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                margin: 0,\n                color: '#2c3e50',\n                fontSize: '24px'\n              },\n              children: \"Bestellingen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '2px 0 0 0',\n                color: '#6c757d',\n                fontSize: '14px'\n              },\n              children: \"Overzicht van al je bestellingen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/change-password'),\n            style: {\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              padding: '8px 12px',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '12px',\n              fontWeight: '500',\n              whiteSpace: 'nowrap'\n            },\n            children: \"Wachtwoord\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            style: {\n              backgroundColor: '#dc3545',\n              color: 'white',\n              border: 'none',\n              padding: '8px 12px',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '12px',\n              fontWeight: '500',\n              whiteSpace: 'nowrap'\n            },\n            children: \"Uitloggen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/add-order'),\n          style: {\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            padding: '10px 15px',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '500'\n          },\n          children: \"\\u2795 Nieuwe bestelling\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          onChange: handleFileImport,\n          style: {\n            display: 'none'\n          },\n          accept: \".csv\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleImportClick,\n          style: {\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            padding: '10px 15px',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '500'\n          },\n          children: \"Importeer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExport,\n          style: {\n            backgroundColor: '#17a2b8',\n            color: 'white',\n            border: 'none',\n            padding: '10px 15px',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '500'\n          },\n          children: \"Exporteer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#f8d7da',\n          color: '#721c24',\n          padding: '10px',\n          borderRadius: '6px',\n          marginBottom: '15px',\n          border: '1px solid #f5c6cb',\n          fontSize: '13px'\n        },\n        children: [\"\\u26A0\\uFE0F \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 19\n      }, this), orders.length === 0 && !error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '30px 20px',\n          color: '#6c757d'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '36px',\n            marginBottom: '15px'\n          },\n          children: \"\\uD83D\\uDCED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 10px 0',\n            fontSize: '16px'\n          },\n          children: \"Geen bestellingen gevonden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0 0 15px 0',\n            fontSize: '13px'\n          },\n          children: \"Er zijn nog geen bestellingen toegevoegd.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/add-order'),\n          style: {\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            padding: '8px 16px',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '13px',\n            fontWeight: '500'\n          },\n          children: \"\\u2795 Eerste Bestelling\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowX: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse',\n            minWidth: '700px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                borderBottom: '2px solid #dee2e6'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '8px 6px',\n                  textAlign: 'left',\n                  color: '#495057',\n                  fontSize: '12px',\n                  fontWeight: '600'\n                },\n                children: \"Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '8px 6px',\n                  textAlign: 'left',\n                  color: '#495057',\n                  fontSize: '12px',\n                  fontWeight: '600'\n                },\n                children: \"Leverancier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '8px 6px',\n                  textAlign: 'left',\n                  color: '#495057',\n                  fontSize: '12px',\n                  fontWeight: '600'\n                },\n                children: \"Inkooporder waarde\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '8px 6px',\n                  textAlign: 'left',\n                  color: '#495057',\n                  fontSize: '12px',\n                  fontWeight: '600'\n                },\n                children: \"Besteldatum\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '8px 6px',\n                  textAlign: 'left',\n                  color: '#495057',\n                  fontSize: '12px',\n                  fontWeight: '600'\n                },\n                children: \"Laatste update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '8px 6px',\n                  textAlign: 'center',\n                  color: '#495057',\n                  fontSize: '12px',\n                  fontWeight: '600'\n                },\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: orders.map(order => /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                borderBottom: '1px solid #e9ecef',\n                cursor: 'pointer',\n                transition: 'background-color 0.2s ease',\n                userSelect: 'none'\n              },\n              onMouseEnter: e => {\n                e.currentTarget.style.backgroundColor = '#f8f9fa';\n              },\n              onMouseLeave: e => {\n                e.currentTarget.style.backgroundColor = 'transparent';\n              },\n              onClick: () => navigate(`/orders/${order.id}`),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '8px 6px',\n                  fontWeight: '500',\n                  color: '#495057',\n                  fontSize: '13px',\n                  userSelect: 'none'\n                },\n                children: order.order_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '8px 6px',\n                  fontSize: '13px',\n                  userSelect: 'none'\n                },\n                children: order.supplier\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '8px 6px',\n                  fontSize: '13px',\n                  userSelect: 'none'\n                },\n                children: formatCurrency(order.total_amount_excl_vat)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '8px 6px',\n                  fontSize: '13px',\n                  userSelect: 'none'\n                },\n                children: order.date_order_placed ? new Date(order.date_order_placed).toLocaleDateString('nl-NL') : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '8px 6px',\n                  fontSize: '13px',\n                  userSelect: 'none'\n                },\n                children: order.last_status_date ? new Date(order.last_status_date).toLocaleDateString('nl-NL') : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '8px 6px',\n                  userSelect: 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    justifyContent: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: getStatusStyle(order),\n                    children: order.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 135\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 76\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this)]\n            }, order.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n_s(Orders, \"NfpbpEGPj4UyPnKnTGZxxS6yO7k=\", false, function () {\n  return [useNavigate];\n});\n_c = Orders;\nexport default Orders;\nvar _c;\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsxDEV","_jsxDEV","formatCurrency","amount","undefined","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","Orders","_s","orders","setOrders","error","setError","isLoading","setIsLoading","navigate","fileInputRef","useRef","handleLogout","localStorage","removeItem","handleExport","token","getItem","response","get","headers","Authorization","responseType","url","window","URL","createObjectURL","Blob","data","link","document","createElement","href","contentDisposition","fileName","fileNameMatch","match","length","setAttribute","body","appendChild","click","remove","err","console","handleImportClick","confirm","_fileInputRef$current","current","handleFileImport","event","_event$target$files","file","target","files","formData","FormData","append","post","alert","message","location","reload","_err$response","errorData","errorMessage","errors","map","e","row","join","value","fetchOrders","_err$response2","_err$response2$data","calculateOrderStatus","order","getLatestDate","dates","validDates","filter","date","Date","Math","max","d","getTime","hasDate","statusDefinitions","condition","date_return_processed_admin","status","color","date_refunded","date_is_returned","is_return","date_booked_accounting","date_received","date_shipped","date_invoice_received","date_payment_completed","date_order_placed","date_quote_received","date_quote_requested","statusDef","text","getStatusStyle","baseStyle","padding","borderRadius","fontSize","fontWeight","textAlign","whiteSpace","backgroundColor","minHeight","fontFamily","children","boxShadow","margin","_jsxFileName","lineNumber","columnNumber","maxWidth","display","justifyContent","alignItems","flexWrap","gap","marginBottom","src","alt","width","height","onClick","border","cursor","type","ref","onChange","accept","overflowX","borderCollapse","minWidth","borderBottom","transition","userSelect","onMouseEnter","currentTarget","onMouseLeave","id","order_number","supplier","total_amount_excl_vat","toLocaleDateString","last_status_date","_c","$RefreshReg$"],"sources":["/Users/andy/lion-gris-order-tool/client/src/pages/Orders.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\ninterface Order {\n  id: number;\n  order_number: string;\n  supplier: string;\n  total_amount_excl_vat: number;\n  status: string;\n  date_order_placed: string;\n  last_status_date: string;\n  \n  // Checkbox fields for status determination\n  date_quote_requested?: string;\n  date_quote_received?: string;\n  date_payment_completed?: string;\n  date_invoice_received?: string;\n  date_shipped?: string;\n  date_received?: string;\n  date_quality_control?: string;\n  date_booked_accounting?: string;\n  date_import_invoice_received?: string;\n  date_is_returned?: string;\n  date_refunded?: string;\n  date_return_processed_admin?: string;\n  \n  // Return checkbox\n  is_return?: boolean;\n}\n\nconst formatCurrency = (amount: number | null | undefined) => {\n  if (amount === null || amount === undefined) {\n    return '€ 0,00';\n  }\n  return new Intl.NumberFormat('nl-NL', {\n    style: 'currency',\n    currency: 'EUR',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(amount);\n};\n\nconst Orders: React.FC = () => {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n\n  const fileInputRef = React.useRef<HTMLInputElement>(null);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/');\n  };\n\n  const handleExport = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('/api/orders/export', {\n        headers: { Authorization: `Bearer ${token}` },\n        responseType: 'blob', // Belangrijk voor het downloaden van bestanden\n      });\n\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      \n      const contentDisposition = response.headers['content-disposition'];\n      let fileName = 'orders-export.csv';\n      if (contentDisposition) {\n        const fileNameMatch = contentDisposition.match(/filename=\"?(.+)\"?/);\n        if (fileNameMatch.length === 2)\n          fileName = fileNameMatch[1];\n      }\n      \n      link.setAttribute('download', fileName);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n\n    } catch (err) {\n      console.error('Export mislukt', err);\n      setError('Exporteren van de data is mislukt.');\n    }\n  };\n\n  const handleImportClick = () => {\n    if (window.confirm('WAARSCHUWING 1: Weet je zeker dat je wilt importeren? Dit overschrijft ALLE huidige bestellingen.')) {\n      if (window.confirm('WAARSCHUWING 2: Deze actie kan NIET ongedaan worden gemaakt. Alle data wordt permanent vervangen.')) {\n        if (window.confirm('DEFINITIEVE WAARSCHUWING 3: Weet je absoluut zeker dat je door wilt gaan?')) {\n          fileInputRef.current?.click();\n        }\n      }\n    }\n  };\n\n  const handleFileImport = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.post('/api/orders/import', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      alert(response.data.message);\n      window.location.reload(); // Herlaad de pagina om de nieuwe data te zien\n    } catch (err: any) {\n      const errorData = err.response?.data;\n      let errorMessage = 'Importeren mislukt. ';\n      if (errorData?.message) {\n        errorMessage += errorData.message;\n      }\n      if (errorData?.errors) {\n        errorMessage += '\\\\nFouten:\\\\n' + errorData.errors.map((e: any) => `Rij ${e.row}: ${e.error}`).join('\\\\n');\n      }\n      alert(errorMessage);\n    } finally {\n        // Reset de file input zodat dezelfde file opnieuw gekozen kan worden\n        if(fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n        }\n    }\n  };\n\n  useEffect(() => {\n    const fetchOrders = async () => {\n      try {\n        setIsLoading(true);\n        const token = localStorage.getItem('token');\n        \n        if (!token) {\n          setError('Geen toegangstoken gevonden. Log opnieuw in.');\n          setIsLoading(false);\n          return;\n        }\n\n        const response = await axios.get('/api/orders', {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        setOrders(response.data);\n      } catch (err: any) {\n        setError(err.response?.data?.error || 'Kon orders niet ophalen');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchOrders();\n  }, []);\n\n  const calculateOrderStatus = (order: Order) => {\n    // Helper function to get the latest date from a list of dates\n    const getLatestDate = (dates: (string | undefined)[]) => {\n      const validDates = dates.filter(date => date && date !== '');\n      if (validDates.length === 0) return null;\n      return new Date(Math.max(...validDates.map(d => new Date(d).getTime())));\n    };\n\n    // Helper function to check if a date exists\n    const hasDate = (date?: string) => date && date !== '';\n\n    // Define status priorities and their conditions\n    const statusDefinitions = [\n      // Return statuses (highest priority)\n      {\n        condition: () => hasDate(order.date_return_processed_admin),\n        status: 'Retour volledig afgehandeld!',\n        color: '#28a745' // Green\n      },\n      {\n        condition: () => hasDate(order.date_refunded),\n        status: 'Geld retour ontvangen',\n        color: '#fd7e14' // Orange\n      },\n      {\n        condition: () => hasDate(order.date_is_returned),\n        status: 'Geretourneerd naar leverancier',\n        color: '#fd7e14' // Orange\n      },\n      {\n        condition: () => order.is_return && !hasDate(order.date_is_returned),\n        status: 'Gaat retour',\n        color: '#6c757d' // Gray\n      },\n\n      // Normal flow statuses\n      {\n        condition: () => hasDate(order.date_booked_accounting) && hasDate(order.date_received),\n        status: 'Volledig afgehandeld!',\n        color: '#28a745' // Green\n      },\n      {\n        condition: () => hasDate(order.date_booked_accounting) && !hasDate(order.date_received),\n        status: 'Volledig afgehandeld!',\n        color: '#ffc107' // Yellow\n      },\n      {\n        condition: () => hasDate(order.date_received),\n        status: 'Bestelling ontvangen',\n        color: '#ffc107' // Yellow\n      },\n      {\n        condition: () => hasDate(order.date_shipped) && hasDate(order.date_invoice_received),\n        status: 'Verzonden naar ons en factuur ontvangen',\n        color: '#ffc107' // Yellow\n      },\n      {\n        condition: () => hasDate(order.date_shipped),\n        status: 'Verzonden naar ons',\n        color: '#ffc107' // Yellow\n      },\n      {\n        condition: () => hasDate(order.date_invoice_received),\n        status: 'Besteld, betaald en factuur ontvangen',\n        color: '#ffc107' // Yellow\n      },\n      {\n        condition: () => hasDate(order.date_payment_completed),\n        status: 'Besteld én betaald',\n        color: '#ffc107' // Yellow\n      },\n      {\n        condition: () => hasDate(order.date_order_placed),\n        status: 'Besteld maar niet betaald',\n        color: '#dc3545' // Red\n      },\n      {\n        condition: () => hasDate(order.date_quote_received),\n        status: 'Offerte ontvangen',\n        color: '#28a745' // Green\n      },\n      {\n        condition: () => hasDate(order.date_quote_requested),\n        status: 'Offerte aangevraagd',\n        color: '#ffc107' // Yellow\n      }\n    ];\n\n    // Find the first matching status\n    for (const statusDef of statusDefinitions) {\n      if (statusDef.condition()) {\n        return {\n          text: statusDef.status,\n          color: statusDef.color\n        };\n      }\n    }\n\n    // Default status\n    return {\n      text: 'Nieuwe bestelling',\n      color: '#6c757d' // Gray\n    };\n  };\n\n  const getStatusStyle = (order: Order) => {\n    const status = calculateOrderStatus(order);\n    const baseStyle = {\n      padding: '3px 8px',\n      borderRadius: '8px',\n      fontSize: '11px',\n      fontWeight: '500',\n      textAlign: 'center' as const,\n      color: 'white',\n      whiteSpace: 'nowrap' as const,\n    };\n\n    return {\n      ...baseStyle,\n      backgroundColor: status.color,\n      color: status.color === '#ffc107' ? '#333' : 'white'\n    };\n  };\n\n  if (isLoading) {\n    return (\n      <div style={{ minHeight: '100vh', backgroundColor: '#f8f9fa', padding: '10px', fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif' }}>\n        <div style={{ backgroundColor: 'white', borderRadius: '8px', boxShadow: '0 2px 8px rgba(0,0,0,0.1)', margin: '0 auto', padding: '20px', textAlign: 'center' }}>\n          <div style={{ fontSize: '16px', color: '#6c757d' }}>🔄 Orders laden...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: '#f8f9fa', padding: '10px', fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif' }}>\n      <div style={{ backgroundColor: 'white', borderRadius: '8px', boxShadow: '0 2px 8px rgba(0,0,0,0.1)', margin: '0 auto', maxWidth: '100%', padding: '20px' }}>\n        \n        {/* --- Header Row --- */}\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '15px', marginBottom: '20px' }}>\n          {/* Left: Title */}\n          <div style={{display: 'flex', alignItems: 'center', gap: '15px'}}>\n            <img src=\"/logo.png\" alt=\"Lion Gris Logo\" style={{ width: '50px', height: 'auto' }} />\n            <div>\n              <h1 style={{ margin: 0, color: '#2c3e50', fontSize: '24px' }}>Bestellingen</h1>\n              <p style={{ margin: '2px 0 0 0', color: '#6c757d', fontSize: '14px' }}>Overzicht van al je bestellingen</p>\n            </div>\n          </div>\n          {/* Right: Auth Buttons */}\n          <div style={{ display: 'flex', gap: '10px' }}>\n            <button onClick={() => navigate('/change-password')} style={{ backgroundColor: '#6c757d', color: 'white', border: 'none', padding: '8px 12px', borderRadius: '6px', cursor: 'pointer', fontSize: '12px', fontWeight: '500', whiteSpace: 'nowrap' }}>\n              Wachtwoord\n            </button>\n            <button onClick={handleLogout} style={{ backgroundColor: '#dc3545', color: 'white', border: 'none', padding: '8px 12px', borderRadius: '6px', cursor: 'pointer', fontSize: '12px', fontWeight: '500', whiteSpace: 'nowrap' }}>\n              Uitloggen\n            </button>\n          </div>\n        </div>\n\n        {/* --- Action Buttons Row --- */}\n        <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>\n            <button onClick={() => navigate('/add-order')} style={{ backgroundColor: '#007bff', color: 'white', border: 'none', padding: '10px 15px', borderRadius: '6px', cursor: 'pointer', fontSize: '14px', fontWeight: '500' }}>\n              ➕ Nieuwe bestelling\n            </button>\n            <input type=\"file\" ref={fileInputRef} onChange={handleFileImport} style={{ display: 'none' }} accept=\".csv\" />\n            <button onClick={handleImportClick} style={{ backgroundColor: '#28a745', color: 'white', border: 'none', padding: '10px 15px', borderRadius: '6px', cursor: 'pointer', fontSize: '14px', fontWeight: '500' }}>\n              Importeer\n            </button>\n            <button onClick={handleExport} style={{ backgroundColor: '#17a2b8', color: 'white', border: 'none', padding: '10px 15px', borderRadius: '6px', cursor: 'pointer', fontSize: '14px', fontWeight: '500' }}>\n              Exporteer\n            </button>\n        </div>\n\n        {error && <div style={{ backgroundColor: '#f8d7da', color: '#721c24', padding: '10px', borderRadius: '6px', marginBottom: '15px', border: '1px solid #f5c6cb', fontSize: '13px' }}>⚠️ {error}</div>}\n\n        {orders.length === 0 && !error ? (\n          <div style={{ textAlign: 'center', padding: '30px 20px', color: '#6c757d' }}>\n            <div style={{ fontSize: '36px', marginBottom: '15px' }}>📭</div>\n            <h3 style={{ margin: '0 0 10px 0', fontSize: '16px' }}>Geen bestellingen gevonden</h3>\n            <p style={{ margin: '0 0 15px 0', fontSize: '13px' }}>Er zijn nog geen bestellingen toegevoegd.</p>\n            <button onClick={() => navigate('/add-order')} style={{ backgroundColor: '#007bff', color: 'white', border: 'none', padding: '8px 16px', borderRadius: '6px', cursor: 'pointer', fontSize: '13px', fontWeight: '500' }}>\n              ➕ Eerste Bestelling\n            </button>\n          </div>\n        ) : (\n          <div style={{ overflowX: 'auto' }}>\n            <table style={{ width: '100%', borderCollapse: 'collapse', minWidth: '700px' }}>\n              <thead>\n                <tr style={{ borderBottom: '2px solid #dee2e6' }}>\n                  <th style={{ padding: '8px 6px', textAlign: 'left', color: '#495057', fontSize: '12px', fontWeight: '600' }}>Order</th>\n                  <th style={{ padding: '8px 6px', textAlign: 'left', color: '#495057', fontSize: '12px', fontWeight: '600' }}>Leverancier</th>\n                  <th style={{ padding: '8px 6px', textAlign: 'left', color: '#495057', fontSize: '12px', fontWeight: '600' }}>Inkooporder waarde</th>\n                  <th style={{ padding: '8px 6px', textAlign: 'left', color: '#495057', fontSize: '12px', fontWeight: '600' }}>Besteldatum</th>\n                  <th style={{ padding: '8px 6px', textAlign: 'left', color: '#495057', fontSize: '12px', fontWeight: '600' }}>Laatste update</th>\n                  <th style={{ padding: '8px 6px', textAlign: 'center', color: '#495057', fontSize: '12px', fontWeight: '600' }}>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {orders.map(order => (\n                  <tr \n                    key={order.id} \n                    style={{ \n                      borderBottom: '1px solid #e9ecef', \n                      cursor: 'pointer',\n                      transition: 'background-color 0.2s ease',\n                      userSelect: 'none'\n                    }} \n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.backgroundColor = '#f8f9fa';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.backgroundColor = 'transparent';\n                    }}\n                    onClick={() => navigate(`/orders/${order.id}`)}\n                  >\n                    <td style={{ padding: '8px 6px', fontWeight: '500', color: '#495057', fontSize: '13px', userSelect: 'none' }}>{order.order_number}</td>\n                    <td style={{ padding: '8px 6px', fontSize: '13px', userSelect: 'none' }}>{order.supplier}</td>\n                    <td style={{ padding: '8px 6px', fontSize: '13px', userSelect: 'none' }}>{formatCurrency(order.total_amount_excl_vat)}</td>\n                    <td style={{ padding: '8px 6px', fontSize: '13px', userSelect: 'none' }}>{order.date_order_placed ? new Date(order.date_order_placed).toLocaleDateString('nl-NL') : 'N/A'}</td>\n                    <td style={{ padding: '8px 6px', fontSize: '13px', userSelect: 'none' }}>{order.last_status_date ? new Date(order.last_status_date).toLocaleDateString('nl-NL') : 'N/A'}</td>\n                    <td style={{ padding: '8px 6px', userSelect: 'none' }}><div style={{ display: 'flex', justifyContent: 'center' }}><span style={getStatusStyle(order)}>{order.status}</span></div></td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Orders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}